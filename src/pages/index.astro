---
import { getCollection } from "astro:content";
import BaseLayout from "@layouts/BaseLayout.astro";
const recentArticles = (await getCollection("articles"))
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 3);
---

<BaseLayout>
  <section>
    <h1>Hey, I'm Steve</h1>
    <img alt="Steve" src="/images/profile.jpg" />
    <p>
      I'm a developer building mobile and web apps. I really enjoy React Native
      and full-stack development.
    </p>
    <p>
      When I'm not coding I'm either with my family, lifting weights, or playing
      guitar. I value faith, family, and freedom - in that order. Learn more
      about me <a href="/about">here</a>.
    </p>
    <p>
      This site is my digital garden. A place for me to write notes or articles
      about stuff I care about.
    </p>
  </section>

  <section>
    <p>Here's a <a href="/now">now</a> page to see what I'm currently up to.</p>
  </section>

  <!-- TODO: add projects section when apps are live again -->

  <section>
    <h2>Recent Writing</h2>
    <ul>
      {
        recentArticles.map((article) => (
          <li>
            <a href={`/articles/${article.slug}/`}>{article.data.title}</a>
          </li>
        ))
      }
    </ul>
    <p><a href="/articles">See all articles</a></p>
  </section>

  <section>
    <h2>Work With Me</h2>
    <p>
      I'm open to conversations about exceptional opportunities - especially
      those involving React Native.
    </p>
    <p>
      <a href="/recruiters">View my work preferences</a> |
      <a href="/resume">See my resume</a>
    </p>
  </section>

  <section>
    <h2>More</h2>
    <ul>
      <li>
        <a href="/uses">Uses</a>
      </li>

      <li>
        <a href="/blogroll">Blogroll+</a>
      </li>

      <li>
        <a href="/ai">AI Usage</a>
      </li>

      <li>
        <a href="/bookmarks">Bookmarks</a>
      </li>

      <!-- TODO: add shelves (books, games, etc...) -->
      <li>
        <a href="/if">Favorite Poem</a>
      </li>
    </ul>
  </section>
</BaseLayout>

<style>
  img {
    width: 90px;
    float: left;
    margin-right: 1em;
  }
</style>
